[tools]
"ubi:golangci/golangci-lint" = "2.2.1"

[tasks."lint:go"]
description = "Lint Go code"
run = [
  "go mod tidy",
  "golangci-lint run --fix",
  # https://pkg.go.dev/golang.org/x/tools/gopls/internal/analysis/modernize#hdr-Analyzer_modernize
  "go run golang.org/x/tools/gopls/internal/analysis/modernize/cmd/modernize@latest -fix -test ./...",
]
